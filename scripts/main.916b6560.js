!function(){"use strict";function a(){console.log("AssignController Constructor"),this.storage=localStorage}angular.module("wolf.components.assign",[]).controller("AssignController",a),a.$inject=[],a.prototype.activate=function(){console.log("AssignController activate Method"),b=this,b.players=JSON.parse(this.storage.getItem("wolf.players")),b.jobCycle={"市　民":"人　狼","人　狼":"予言者","予言者":"霊媒師","霊媒師":"ボディ","ボディ":"裏切り","裏切り":"市　民"}},a.prototype.changeJob=function(a){console.log("PlayerController changeJob Method ",a);var c=b.players[a].job;b.players[a].job=b.jobCycle[c]},a.prototype.backtoRegister=function(){console.log("PlayerController backtoRegister Method"),this.storage.removeItem("wolf.players"),this.storage.setItem("wolf.players",JSON.stringify(b.players)),window.location.href="gm-wolf/#/register"},a.prototype.gotoDay=function(){console.log("PlayerController gotoDay Method"),this.storage.removeItem("wolf.assign-players"),this.storage.setItem("wolf.assign-players",JSON.stringify(b.players)),this.storage.removeItem("wolf.players"),this.storage.setItem("wolf.players",JSON.stringify(b.players)),window.location.href="gm-wolf/#/day"};var b}(),function(){"use strict";function a(a){console.log("DayController Constructor"),this.storage=localStorage,this.nightExpulsionName=a.name,this.guard=!1,"**"===this.nightExpulsionName&&(this.guard=!0)}angular.module("wolf.components.day",[]).controller("DayController",a),a.$inject=["$routeParams"],a.prototype.activate=function(){console.log("DayController activate Method"),b=this,b.players=JSON.parse(this.storage.getItem("wolf.players")),b.dayExpulsionName="**",b.dayExpulsionType="人間"},a.prototype.expulsion=function(a){console.log("PlayerController expulsion Method ",a),b.players[a].alive=!b.players[a].alive,b.dayExpulsionName=b.players[a].name,"人　狼"===b.players[a].job&&(b.dayExpulsionType="人狼");for(var c=b.players.length-1;c>=0;c--)c!==a&&(b.players[c].alive=!0)},a.prototype.goodNight=function(){console.log("PlayerController goodNight Method");for(var a=b.players.length-1;a>=0;a--)b.players[a].alive||b.players.splice(a,1);this.storage.removeItem("wolf.players"),this.storage.setItem("wolf.players",JSON.stringify(b.players));for(var c=0,d=0,e=b.players.length-1;e>=0;e--)"人　狼"===b.players[e].job?c++:d++;0===c?window.location.href="gm-wolf/#/result/人間":c>=d?window.location.href="gm-wolf/#/result/人狼":window.location.href="gm-wolf/#/night/"+b.dayExpulsionType};var b}(),function(){"use strict";function a(a){console.log("NightController Constructor"),this.storage=localStorage,b=this,b.players=JSON.parse(this.storage.getItem("wolf.players")),this.dayExpulsionType=a.type}angular.module("wolf.components.night",[]).controller("NightController",a),a.$inject=["$routeParams"],a.prototype.activate=function(){console.log("NightController activate Method"),b=this,b.nightExpulsionName="**"},a.prototype.expulsion=function(a){console.log("PlayerController expulsion Method ",a),b.players[a].alive=!b.players[a].alive,b.nightExpulsionName=b.players[a].name;for(var c=b.players.length-1;c>=0;c--)c!==a&&(b.players[c].alive=!0)},a.prototype.gotoDay=function(){console.log("PlayerController goodNight Method");for(var a="**",c=b.players.length-1;c>=0;c--)b.players[c].alive||(a=b.players[c].name,b.players.splice(c,1));this.storage.removeItem("wolf.players"),this.storage.setItem("wolf.players",JSON.stringify(b.players));for(var d=0,e=0,f=b.players.length-1;f>=0;f--)"人　狼"===b.players[f].job?d++:e++;d>=e?window.location.href="gm-wolf/#/result/人狼":window.location.href="gm-wolf/#/day/"+a};var b}(),function(){"use strict";function a(){console.log("PlayerController Constructor"),this.storage=sessionStorage}angular.module("wolf.components.player",[]).controller("PlayerController",a),a.$inject=[],a.prototype.activate=function(){console.log("PlayerController activate Method"),b=this,b.players=[],this.storage.getItem("wolf.players")&&(b.players=JSON.parse(this.storage.getItem("wolf.players")))},a.prototype.remove=function(){console.log("PlayerController remove Method")},a.prototype.add=function(){console.log("PlayerController add Method");var a={name:"",job:"市民",alive:!0};b.players.push(a)},a.prototype.gotoAssign=function(){console.log("PlayerController gotoAssign Method"),this.storage.setItem("wolf.players",JSON.stringify(b.players)),this.storage.setItem("test","hoge"),window.location.href="gm-wolf/#/assign"};var b}(),function(){"use strict";function a(){console.log("RegisterController Constructor"),this.storage=localStorage}angular.module("wolf.components.register",[]).controller("RegisterController",a),a.$inject=[],a.prototype.activate=function(){console.log("RegisterController activate Method"),b=this,b.players=[],this.storage.getItem("wolf.initial-players")&&(b.players=JSON.parse(this.storage.getItem("wolf.initial-players")))},a.prototype.remove=function(a){console.log("RegisterController remove Method"),b.players.splice(a,1)},a.prototype.add=function(){console.log("RegisterController add Method");var a={name:"",job:"市　民",alive:!0};b.players.push(a)},a.prototype.gotoAssign=function(){console.log("RegisterController gotoAssign Method"),this.storage.removeItem("wolf.initial-players"),this.storage.setItem("wolf.initial-players",JSON.stringify(b.players)),this.storage.removeItem("wolf.players"),this.storage.setItem("wolf.players",JSON.stringify(b.players)),window.location.href="gm-wolf/#/assign"};var b}(),function(){"use strict";function a(a){console.log("ResultController Constructor"),this.storage=localStorage,this.winner=a.winner}angular.module("wolf.components.result",[]).controller("ResultController",a),a.$inject=["$routeParams"],a.prototype.activate=function(){console.log("ResultController activate Method"),b=this,b.players=JSON.parse(this.storage.getItem("wolf.assign-players"))},a.prototype.gameOver=function(){console.log("ResultController gameOver Method"),this.storage.removeItem("wolf.players"),this.storage.removeItem("wolf.assign-players"),window.location.href="gm-wolf/#/register"};var b}(),function(){"use strict";function a(a){}angular.module("wolf.config",[]).config(a),a.$inject=["$locationProvider"]}(),function(){"use strict";function a(a){var b=a("/api/gruntfiles",{query:{transformResponse:function(a){return angular.fromJson(a)}}});return b}angular.module("wolf.service.gruntfiles",["ngResource"]).factory("GruntfilesService",a),a.$inject=["$resource"]}(),function(){"use strict";function a(){}angular.module("wolf",["ngNewRouter","wolf.config","wolf.components.register","wolf.components.assign","wolf.components.day","wolf.components.night","wolf.components.result"]).controller("AppController",a),a.$routeConfig=[{path:"/",redirectTo:"/register"},{path:"/register",component:"register"},{path:"/assign",component:"assign"},{path:"/day/:name",component:"day"},{path:"/day",component:"day"},{path:"/night/:type",component:"night"},{path:"/night",component:"night"},{path:"/result/:winner",component:"result"}],a.$inject=[]}();